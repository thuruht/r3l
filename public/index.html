<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>R3L:F - Anti-Algorithmic Sharing</title>
  <link rel="stylesheet" href="./css/rel-f-global.css">
  <link rel="stylesheet" href="./css/rel-f-accent.css">
  <link rel="stylesheet" href="./css/responsive-enhancements.css">
  <script src="./js/font-loader.js" defer></script>
  <script src="./js/utils/secure-api-helper.js" defer></script>
  <script src="vendor/d3/d3.v7.min.js" defer></script>
  <style>
    .slideshow-container {
      position: relative;
      height: 100vh;
      margin-top: var(--space-8);
      overflow: hidden;
      border-radius: var(--radius-lg);
      box-shadow: 0 8px 32px var(--accent-purple-glow);
    }
    
    .slide {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      opacity: 0;
      transition: opacity 1s ease-in-out;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .slide.active {
      opacity: 1;
    }
    
    .slide-overlay {
      position: relative;
      z-index: 10;
      text-align: center;
      padding: var(--space-8);
      background: rgba(14, 31, 28, 0.85);
      border-radius: var(--radius-lg);
      max-width: 800px;
      backdrop-filter: blur(10px);
    }
    
    .slide-title {
      font-size: var(--fs-4xl);
      color: var(--accent-purple);
      margin-bottom: var(--space-4);
      text-shadow: 0 0 20px var(--accent-purple-glow);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: var(--space-2);
    }
    
    .slide-tagline {
      font-family: var(--font-serif);
      font-size: var(--fs-xl);
      color: var(--accent-green);
      margin-bottom: var(--space-4);
      font-style: italic;
    }
    
    .slide-overlay p {
      font-size: var(--fs-lg);
      color: var(--text-secondary);
      margin-bottom: var(--space-4);
      line-height: 1.6;
    }
    
    .slide-actions {
      display: flex;
      gap: var(--space-4);
      justify-content: center;
      margin-top: var(--space-6);
      flex-wrap: wrap;
    }
    
    .slideshow-nav {
      position: absolute;
      bottom: var(--space-6);
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: var(--space-2);
      z-index: 20;
    }
    
    .nav-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background-color: rgba(255, 255, 255, 0.3);
      cursor: pointer;
      transition: all var(--transition-normal);
    }
    
    .nav-dot.active {
      background-color: var(--accent-purple);
      box-shadow: 0 0 10px var(--accent-purple-glow);
    }
    
    .nav-dot:hover {
      background-color: rgba(255, 255, 255, 0.6);
    }
    
    #hero-visualization {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 1;
    }
    
    #hero-visualization svg {
      width: 100%;
      height: 100%;
    }
    
    .feature-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: var(--space-6);
      margin: var(--space-8) 0;
    }
    
    .feature-card {
      background-color: var(--bg-container);
      border-radius: var(--radius-md);
      padding: var(--space-6);
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
      border-top: 3px solid var(--accent-purple);
      transition: transform var(--transition-normal);
      position: relative;
      overflow: hidden;
    }
    
    .feature-card:hover {
      transform: translateY(-5px);
    }
    
    .feature-icon {
      font-size: 48px;
      color: var(--accent-purple);
      margin-bottom: var(--space-4);
      filter: drop-shadow(0 0 10px var(--accent-purple-glow));
    }
    
    .feature-title {
      color: var(--accent-green);
      margin-bottom: var(--space-2);
      font-size: var(--fs-xl);
    }
    
    .cta-section {
      background-color: var(--bg-container);
      border-radius: var(--radius-md);
      padding: var(--space-6);
      margin-top: var(--space-8);
      text-align: center;
      border: 1px solid var(--accent-purple-muted);
      box-shadow: 0 4px 16px var(--accent-purple-glow);
    }
    
    .cta-title {
      color: var(--accent-purple);
      margin-bottom: var(--space-4);
      font-size: var(--fs-2xl);
    }
    
    .cta-actions {
      display: flex;
      justify-content: center;
      gap: var(--space-4);
      margin-top: var(--space-6);
      flex-wrap: wrap;
    }
    
    @keyframes pulse {
      0% { opacity: 0.7; }
      50% { opacity: 1; }
      100% { opacity: 0.7; }
    }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <!-- Navigation will be inserted by JavaScript -->
    </div>
  </header>

  <main class="container">
    <!-- Interactive Slideshow with Network Visualization -->
    <div class="slideshow-container">
      <div id="hero-visualization" aria-hidden="true">
        <!-- D3.js visualization will be rendered here -->
      </div>
      
      <!-- Slide 1: Introduction -->
      <div class="slide active">
        <div class="slide-overlay">
          <h1 class="slide-title">
            <span class="material-icons" aria-hidden="true">public</span>
            R3L:F
          </h1>
          <p class="slide-tagline">"the rel is what you make it"</p>
          <p>A decentralized, ephemeral, anti-algorithmic social file-sharing platform where you control your connections and content lifecycle. No engagement optimization, no corporate manipulation, just intentional sharing and meaningful connections.</p>
          <div class="slide-actions">
            <a href="/auth/login.html" class="btn glow-accent">
              <span class="material-icons">login</span>
              Get Started
            </a>
            <a href="network.html" class="btn btn-secondary">
              <span class="material-icons">hub</span>
              Explore
            </a>
          </div>
        </div>
      </div>

      <!-- Slide 2: Ephemeral Content -->
      <div class="slide">
        <div class="slide-overlay">
          <h2 class="slide-title">
            <span class="material-icons" aria-hidden="true">timer</span>
            Ephemeral by Design
          </h2>
          <p class="slide-tagline">"the rel is what you make it"</p>
          <p>Content expires after 30 days unless community-archived, ensuring that the Rel remains fresh and relevant rather than accumulating digital clutter.</p>
          <p>This creates a living ecosystem of content that evolves with your community.</p>
          <div class="slide-actions">
            <a href="help.html" class="btn btn-secondary">
              <span class="material-icons">help_outline</span>
              Learn More
            </a>
          </div>
        </div>
      </div>

      <!-- Slide 3: File Sharing -->
      <div class="slide">
        <div class="slide-overlay">
          <h2 class="slide-title">
            <span class="material-icons" aria-hidden="true">folder_shared</span>
            Social File Sharing
          </h2>
          <p class="slide-tagline">"the rel is what you make it"</p>
          <p>A filenet system where documents, audio, video, and creative works are the foundation of interaction.</p>
          <p>Share what matters with those who matter - not with algorithms designed to maximize engagement.</p>
          <div class="slide-actions">
            <a href="random.html" class="btn btn-secondary">
              <span class="material-icons">shuffle</span>
              Discover Content
            </a>
          </div>
        </div>
      </div>

      <!-- Slide 4: Connection Web -->
      <div class="slide">
        <div class="slide-overlay">
          <h2 class="slide-title">
            <span class="material-icons" aria-hidden="true">hub</span>
            Association Web
          </h2>
          <p class="slide-tagline">"the rel is what you make it"</p>
          <p>Build meaningful connections through intentional networking rather than algorithmic suggestions.</p>
          <p>Your association web grows organically based on shared interests and mutual connections.</p>
          <div class="slide-actions">
            <a href="connect.html" class="btn btn-secondary">
              <span class="material-icons">person_add</span>
              Find People
            </a>
          </div>
        </div>
      </div>

      <!-- Navigation dots -->
      <div class="slideshow-nav">
        <div class="nav-dot active" data-slide="0"></div>
        <div class="nav-dot" data-slide="1"></div>
        <div class="nav-dot" data-slide="2"></div>
        <div class="nav-dot" data-slide="3"></div>
      </div>
    </div>
    
    <!-- Feature Grid -->
    <h2>Core Features</h2>
    
    <div class="feature-grid">
      <div class="feature-card">
        <div class="feature-icon material-icons" aria-hidden="true">devices_other</div>
        <h3 class="feature-title">Relational</h3>
        <p>Users are connected visually in an association web but only through explicit, mutually agreed relationships.</p>
      </div>
      
      <div class="feature-card">
        <div class="feature-icon material-icons" aria-hidden="true">timer</div>
        <h3 class="feature-title">Ephemeral</h3>
        <p>Content expires unless archived, ensuring that data remains fresh and relevant rather than accumulating indefinitely.</p>
      </div>
      
      <div class="feature-card">
        <div class="feature-icon material-icons" aria-hidden="true">folder_shared</div>
        <h3 class="feature-title">Filenet</h3>
        <p>A social file-sharing system where documents, audio, video, and creative works are the foundation of interaction.</p>
      </div>
    </div>
    
    <div class="feature-grid">
      <div class="feature-card">
        <div class="feature-icon material-icons" aria-hidden="true">archive</div>
        <h3 class="feature-title">Personal Archive</h3>
        <p>Each user has a "drawer" (profile) with a customizable communique—a themeable, linkable window into their stored content.</p>
      </div>
      
      <div class="feature-card">
        <div class="feature-icon material-icons" aria-hidden="true">search</div>
        <h3 class="feature-title">Anti-Algorithmic Search</h3>
        <p>No engagement optimization, no ranking - pure chronological ordering and user-controlled filtering by file type, tags, and more.</p>
      </div>
      
      <div class="feature-card">
        <div class="feature-icon material-icons" aria-hidden="true">account_tree</div>
        <h3 class="feature-title">Association Web</h3>
        <p>Automatically generated from public contact lists, showing branching structure of connections with stronger links for frequent interactions.</p>
      </div>
    </div>
    
    <!-- CTA Section -->
    <div class="cta-section">
      <h2 class="cta-title">Join the Rel</h2>
      <p>Experience a different kind of social network - one where connections are meaningful, content is ephemeral, and you remain in control.</p>
      
      <div class="cta-actions">
        <a href="/auth/register.html" class="btn">
          <span class="material-icons" aria-hidden="true">person_add</span>
          Create Account
        </a>
        <a href="random.html" class="btn btn-secondary">
          <span class="material-icons" aria-hidden="true">shuffle</span>
          Random Communique
        </a>
        <a href="help.html" class="btn btn-secondary">
          <span class="material-icons" aria-hidden="true">help_outline</span>
          Help & FAQ
        </a>
      </div>
    </div>
  </main>

  <footer class="footer">
    <p class="footer-motto text-accent">"the rel is what you make it"</p>
    <div class="footer-links">
      <a href="index.html">Home</a> | 
      <a href="help.html">Help</a> | 
      <a href="about.html">About</a> | 
      <a href="sitemap.html">Site Map</a>
    </div>
  </footer>

  <script type="module">
    import { NavigationBar } from './js/components/navigation.js';

    document.addEventListener('DOMContentLoaded', () => {
      NavigationBar.init('home');
      
      // Initialize slideshow
      const slides = document.querySelectorAll('.slide');
      const dots = document.querySelectorAll('.nav-dot');
      let currentSlide = 0;
      let slideInterval;

      function showSlide(n) {
        slides.forEach(slide => slide.classList.remove('active'));
        dots.forEach(dot => dot.classList.remove('active'));
        currentSlide = (n + slides.length) % slides.length;
        slides[currentSlide].classList.add('active');
        dots[currentSlide].classList.add('active');
      }

      function nextSlide() {
        showSlide(currentSlide + 1);
      }

      function startSlideshow() {
        slideInterval = setInterval(nextSlide, 8000);
      }

      dots.forEach((dot, index) => {
        dot.addEventListener('click', () => {
          clearInterval(slideInterval);
          showSlide(index);
          startSlideshow();
        });
      });

      startSlideshow();
      
      // Hero visualization
      if (typeof d3 !== 'undefined') {
        const container = document.getElementById('hero-visualization');
        const width = container.clientWidth;
        const height = container.clientHeight;
        
        const svg = d3.select('#hero-visualization')
          .append('svg')
          .attr('width', width)
          .attr('height', height);
        
        // Generate nodes for visualization
        const nodes = d3.range(30).map(i => ({
          id: i,
          x: Math.random() * width,
          y: Math.random() * height,
          vx: (Math.random() - 0.5) * 2,
          vy: (Math.random() - 0.5) * 2,
          type: i < 8 ? 'user' : i < 20 ? 'content' : 'tag'
        }));
        
        const links = [];
        for (let i = 0; i < nodes.length; i++) {
          for (let j = i + 1; j < nodes.length; j++) {
            if (Math.random() < 0.1) {
              links.push({ source: i, target: j });
            }
          }
        }
        
        // Draw links
        const link = svg.selectAll('.link')
          .data(links)
          .enter().append('line')
          .attr('class', 'link')
          .style('stroke', 'rgba(139, 92, 246, 0.3)')
          .style('stroke-width', 1);
        
        // Draw nodes
        const node = svg.selectAll('.node')
          .data(nodes)
          .enter().append('circle')
          .attr('class', 'node')
          .attr('r', d => d.type === 'user' ? 6 : d.type === 'content' ? 4 : 3)
          .style('fill', d => d.type === 'user' ? '#a278ff' : d.type === 'content' ? '#7fd8d8' : '#ff9c66')
          .style('opacity', 0.8);
        
        // Animation loop
        function animate() {
          nodes.forEach(node => {
            node.x += node.vx;
            node.y += node.vy;
            
            if (node.x < 0 || node.x > width) node.vx *= -1;
            if (node.y < 0 || node.y > height) node.vy *= -1;
            
            node.x = Math.max(0, Math.min(width, node.x));
            node.y = Math.max(0, Math.min(height, node.y));
          });
          
          node
            .attr('cx', d => d.x)
            .attr('cy', d => d.y);
          
          link
            .attr('x1', d => nodes[d.source].x)
            .attr('y1', d => nodes[d.source].y)
            .attr('x2', d => nodes[d.target].x)
            .attr('y2', d => nodes[d.target].y);
          
          requestAnimationFrame(animate);
        }
        
        animate();
      }
    });
  </script>
</body>
</html>